# Copyright 2024-present Easytier Programme within The Commons Conservancy
# SPDX-License-Identifier: Apache-2.0

name: ğŸ é—®é¢˜æŠ¥å‘Š / Bug Report
title: '[bug] '
description: æŠ¥å‘Šä¸€ä¸ªé—®é¢˜ / Report a bug
labels: ['type: bug', 'status: needs triage']

body:
  - type: markdown
    attributes:
      value: |
        ## åœ¨æäº¤é—®é¢˜ä¹‹å‰ / First of all
        1. è¯·å…ˆæœç´¢æœ‰å…³æ­¤é—®é¢˜çš„ [ç°æœ‰é—®é¢˜](https://github.com/EasyTier/EasyTier/issues?q=is%3Aissue)ã€‚
        1. Please search for [existing issues](https://github.com/EasyTier/EasyTier/issues?q=is%3Aissue) about this problem first.
        2. è¯·ç¡®ä¿æ‰€ä½¿ç”¨çš„ Easytier ç‰ˆæœ¬éƒ½æ˜¯æœ€æ–°çš„ã€‚
        2. Make sure that all Easytier versions are up-to-date.
        3. è¯·ç¡®ä¿è¿™æ˜¯ EasyTier çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯ä½ æ­£åœ¨ä½¿ç”¨çš„å…¶ä»–å†…å®¹å¼•èµ·çš„é—®é¢˜ã€‚
        3. Make sure it's an issue with EasyTier and not something else you are using.
        4. è¯·è®°å¾—éµå®ˆæˆ‘ä»¬çš„ç¤¾åŒºå‡†åˆ™å¹¶ä¿æŒå‹å¥½æ€åº¦ã€‚
        4. Remember to follow our community guidelines and be friendly.

  - type: textarea
    id: description
    attributes:
      label: é—®é¢˜ç®€è¦æè¿° / Brief Description
      description: å¯¹é—®é¢˜çš„ç®€è¦æè¿°ï¼ŒåŒ…æ‹¬æœŸæœ›çš„è¡Œä¸ºå’Œå®é™…å‘ç”Ÿçš„æƒ…å†µã€‚ / A brief description of the issue, including expected vs actual behavior.
      placeholder: |
        ä¾‹å¦‚ï¼šèŠ‚ç‚¹ A æ— æ³•è¿æ¥åˆ°èŠ‚ç‚¹ Bï¼ŒæœŸæœ›èƒ½å¤Ÿæ­£å¸¸å»ºç«‹è¿æ¥
        Example: Node A cannot connect to Node B, expected to establish connection normally
    validations:
      required: true

  - type: textarea
    id: environment-info
    attributes:
      label: ç¯å¢ƒä¿¡æ¯ / Environment Information
      description: è¯·æä¾›ç½‘ç»œæ‹“æ‰‘ã€èŠ‚ç‚¹ä¿¡æ¯å’Œç³»ç»Ÿç¯å¢ƒè¯¦æƒ…ã€‚ / Please provide network topology, node information and system environment details.
      placeholder: |
        **EasyTier ç‰ˆæœ¬ï¼ˆéå¸¸é‡è¦ï¼‰/ EasyTier Version (Very Important):** v1.2.0
        
        **ç½‘ç»œæ‹“æ‰‘ / Network Topology:**
        - èŠ‚ç‚¹ A (10.1.1.1): Windows 11 Pro 22H2, Wifiï¼Œæœ‰ IPV6 åœ°å€
        - èŠ‚ç‚¹ B (10.1.1.2): Ubuntu 22.04.3 LTS (Linux 5.15.0-72-generic), å…¬ç½‘ IP
        - èŠ‚ç‚¹ C (10.1.1.3): macOS Ventura 13.4.1, 5G æµé‡ï¼Œæ—  IPV6 åœ°å€
        
        **Network Topology:**
        - Node A (10.1.1.1): Windows 11 Pro 22H2, Wifi, has IPV6 address
        - Node B (10.1.1.2): Ubuntu 22.04.3 LTS (Linux 5.15.0-72-generic), public IP
        - Node C (10.1.1.3): macOS Ventura 13.4.1, 5G traffic, no IPV6 address
    validations:
      required: true

  - type: textarea
    id: node-configs
    attributes:
      label: èŠ‚ç‚¹é…ç½® / Node Configurations
      description: è¯·æä¾›æ¯ä¸ªèŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶æˆ–å¯åŠ¨å‚æ•°ã€‚ / Please provide configuration files or startup parameters for each node.
      placeholder: |
        **èŠ‚ç‚¹ A é…ç½® / Node A Config:**
        ```
        easytier-core --config-file config.toml
        ```
        
        **èŠ‚ç‚¹ B é…ç½® / Node B Config:**
        ```
        easytier-core --ipv4 10.1.1.2 --peers tcp://1.2.3.4:11010
        ```
        
        è¯·è´´å‡ºå®Œæ•´çš„é…ç½®æ–‡ä»¶å†…å®¹æˆ–å‘½ä»¤è¡Œå‚æ•°
        Please paste complete configuration file contents or command line arguments
    validations:
      required: true

  - type: textarea
    id: logs
    attributes:
      label: æ—¥å¿—ä¿¡æ¯ / Log Information
      description: è¯·æä¾›ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯ï¼ŒåŒ…æ‹¬ GUI çš„äº‹ä»¶æ—¥å¿—æˆ–å‘½ä»¤è¡Œçš„æ§åˆ¶å°è¾“å‡ºã€‚ / Please provide relevant log information, including GUI event logs or command line console output.
      placeholder: |
        è¯·ç²˜è´´ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯ï¼š
        - GUI ç”¨æˆ·ï¼šè¯·æä¾›äº‹ä»¶æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
        - å‘½ä»¤è¡Œç”¨æˆ·ï¼šè¯·æä¾›æ§åˆ¶å°è¾“å‡ºçš„è¯¦ç»†æ—¥å¿—
        - ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæä¾›é»˜è®¤è¾“å‡ºçš„äº‹ä»¶æ—¥å¿—å³å¯
        - å¦‚æœèƒ½æä¾› --file-log-level debug è¾“å‡ºçš„æ—¥å¿—ï¼Œä¼šæ›´æ–¹ä¾¿ debug
        
        Please paste relevant log information:
        - GUI users: Please provide error messages from event logs
        - CLI users: Please provide detailed console output logs
        - Default log output is usually sufficient
        - If possible, logs with --file-log-level debug would be more helpful for debugging
        
    validations:
      required: true

  - type: textarea
    id: reproduction
    attributes:
      label: é‡ç°æ­¥éª¤ / Reproduction Steps
      description: è¯·æä¾›è¯¦ç»†çš„æ­¥éª¤æ¥é‡ç°è¿™ä¸ªé—®é¢˜ã€‚ / Please provide detailed steps to reproduce this issue.
      placeholder: |
        1. å¯åŠ¨èŠ‚ç‚¹ Aï¼Œä½¿ç”¨é…ç½® xxx / Start Node A with config xxx
        2. å¯åŠ¨èŠ‚ç‚¹ Bï¼Œä½¿ç”¨é…ç½® yyy / Start Node B with config yyy  
        3. å°è¯•ä»èŠ‚ç‚¹ A ping èŠ‚ç‚¹ B / Try to ping Node B from Node A
        4. è§‚å¯Ÿåˆ°é”™è¯¯ï¼šxxx / Observe error: xxx
        
        è¯·æä¾›è¯¦ç»†çš„æ“ä½œæ­¥éª¤ï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å¤Ÿé‡ç°é—®é¢˜
        Please provide detailed steps so we can reproduce the issue
    validations:
      required: true

  - type: textarea
    id: expected-behavior
    attributes:
      label: é¢„æœŸç»“æœ / Expected Behavior
      description: æ¸…æ¥šåœ°æè¿°æ‚¨æœŸæœ›å‘ç”Ÿçš„äº‹æƒ…ã€‚ / A clear description of what you expected to happen.
      placeholder: |
        ä¾‹å¦‚ï¼šèŠ‚ç‚¹ A åº”è¯¥èƒ½å¤ŸæˆåŠŸ ping é€šèŠ‚ç‚¹ Bï¼Œå»¶è¿Ÿåœ¨ 100ms ä»¥å†…
        Example: Node A should be able to ping Node B successfully with latency under 100ms

  - type: textarea
    id: additional-context
    attributes:
      label: é¢å¤–ä¿¡æ¯ / Additional Context
      description: åœ¨è¿™é‡Œæ·»åŠ å…³äºé—®é¢˜çš„ä»»ä½•å…¶ä»–ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ / Add any other context about the problem here.
      placeholder: |
        ä¾‹å¦‚ï¼š
        - è¿™ä¸ªé—®é¢˜æ˜¯å¦åœ¨ç‰¹å®šæ—¶é—´å‡ºç°ï¼Ÿ
        - æ˜¯å¦æœ‰ç½‘ç»œç¯å¢ƒçš„ç‰¹æ®Šé…ç½®ï¼Ÿ
        - æ˜¯å¦å°è¯•è¿‡å…¶ä»–è§£å†³æ–¹æ¡ˆï¼Ÿ
        
        Example:
        - Does this issue occur at specific times?
        - Are there any special network environment configurations?
        - Have you tried any other solutions?