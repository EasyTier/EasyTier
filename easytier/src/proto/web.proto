syntax = "proto3";

import "common.proto";

package web;

message HeartbeatRequest {
  common.UUID machine_id = 1;
  common.UUID inst_id = 2;
  string user_token = 3;

  string easytier_version = 4;
  string report_time = 5;
  string hostname = 6;

  repeated common.UUID running_network_instances = 7;

  // system info
  string os_version = 8;
  float cpu_usage = 9;
  uint64 mem_used = 10;   // in KB
  uint64 mem_total = 11;  // in KB
}

message HeartbeatResponse {}

service WebServerService {
  rpc Heartbeat(HeartbeatRequest) returns (HeartbeatResponse);
}
